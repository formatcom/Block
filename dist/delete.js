// Generated by CoffeeScript 1.10.0
(function() {
  var Block, del, setting;

  Block = require('./core');

  setting = require('./setting');

  del = function(obj) {
    var _obj, i, item, j, key, len, len1, out, ref, ref1, valid;
    if (obj == null) {
      obj = false;
    }
    _obj = new Block(this._self.global.before(this._self.json()) || this._self);
    _obj = new Block(this.before(_obj.json()) || _obj);
    if (obj === false) {
      _obj = [];
    } else if (typeof obj === 'object') {
      out = [];
      ref = _obj.json();
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        valid = false;
        ref1 = Object.keys(obj);
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          key = ref1[j];
          valid = item[key] !== obj[key];
          if (!valid) {
            break;
          }
        }
        if (valid) {
          out.push(item);
        }
      }
      _obj = out;
    }
    _obj = new Block(_obj);
    _obj = new Block(this._self.global.after(_obj.json()) || _obj);
    _obj = new Block(this.after(_obj.json()) || _obj);
    _obj = setting(_obj, this._self);
    return _obj;
  };

  module.exports = del;

}).call(this);
