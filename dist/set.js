// Generated by CoffeeScript 1.10.0
(function() {
  var Block, set, setting;

  Block = require('./core');

  setting = require('./setting');

  set = function(callback) {
    var _obj;
    if (callback == null) {
      callback = new Function();
    }
    _obj = new Block(this._self.global.before(this._self.json()) || this._self);
    _obj = new Block(this.before(_obj.json()) || _obj);
    _obj = new Block(callback(_obj.json()) || _obj);
    _obj = new Block(this._self.global.after(_obj.json()) || _obj);
    _obj = new Block(this.after(_obj.json()) || _obj);
    _obj.count += this._self.count;
    _obj = setting(_obj, this._self);
    return _obj;
  };

  module.exports = set;

}).call(this);
